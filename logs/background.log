(node:108232) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
/home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.js:1
import { GetObjectCommand } from "@aws-sdk/client-s3";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1350:18)
    at Module._compile (node:internal/modules/cjs/loader:1379:20)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:158:12)
    at node:internal/main/run_main_module:30:49

Node.js v22.2.0
(node:116596) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
/home/johurul/my-text-digest-ws/my-text-digest-saas/src/lib/s3.js:1
import { S3Client } from "@aws-sdk/client-s3";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1350:18)
    at Module._compile (node:internal/modules/cjs/loader:1379:20)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at Module.require (node:internal/modules/cjs/loader:1271:19)
    at require (node:internal/modules/helpers:123:16)
    at Object.<anonymous> (/home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.js:2:18)
    at Module._compile (node:internal/modules/cjs/loader:1434:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)

Node.js v22.2.0
(node:126925) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
/home/johurul/my-text-digest-ws/my-text-digest-saas/src/lib/prisma.js:3
import { PrismaClient } from "@prisma/client";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1350:18)
    at Module._compile (node:internal/modules/cjs/loader:1379:20)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at Module.require (node:internal/modules/cjs/loader:1271:19)
    at require (node:internal/modules/helpers:123:16)
    at Object.<anonymous> (/home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.js:5:20)
    at Module._compile (node:internal/modules/cjs/loader:1434:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:158:12)
    at node:internal/main/run_main_module:30:49

Node.js v22.2.0
üöÄ Worker started for doc cmhu0dgfn0000jif3za4m5c1t
(node:135104) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
‚ùå Worker failed: /home/johurul/my-text-digest-ws/my-text-digest-saas/src/lib/s3.js:1
import { S3Client } from "@aws-sdk/client-s3";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1350:18)
    at Module._compile (node:internal/modules/cjs/loader:1379:20)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at cjsLoader (node:internal/modules/esm/translators:318:15)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:258:7)
    at ModuleJob.run (node:internal/modules/esm/module_job:262:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:475:24)
    at async processDocument (/home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.js:28:35)
    at async process.<anonymous> (/home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.js:103:3)
file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:1
const { GetObjectCommand } = require("@aws-sdk/client-s3");
                             ^

ReferenceError: require is not defined in ES module scope, you can use import instead
    at file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:1:30
    at ModuleJob.run (node:internal/modules/esm/module_job:262:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:475:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:109:5)

Node.js v22.2.0
node:fs:573
  return binding.open(
                 ^

Error: ENOENT: no such file or directory, open './test/data/05-versions-space.pdf'
    at Object.openSync (node:fs:573:18)
    at Object.readFileSync (node:fs:452:35)
    at Object.<anonymous> (/home/johurul/my-text-digest-ws/my-text-digest-saas/node_modules/pdf-parse/index.js:15:25)
    at Module._compile (node:internal/modules/cjs/loader:1434:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at cjsLoader (node:internal/modules/esm/translators:318:15)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:258:7)
    at ModuleJob.run (node:internal/modules/esm/module_job:262:25) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: './test/data/05-versions-space.pdf'
}

Node.js v22.2.0
node:fs:573
  return binding.open(
                 ^

Error: ENOENT: no such file or directory, open './test/data/05-versions-space.pdf'
    at Object.openSync (node:fs:573:18)
    at Object.readFileSync (node:fs:452:35)
    at Object.<anonymous> (/home/johurul/my-text-digest-ws/my-text-digest-saas/node_modules/pdf-parse/index.js:15:25)
    at Module._compile (node:internal/modules/cjs/loader:1434:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at cjsLoader (node:internal/modules/esm/translators:318:15)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:258:7)
    at ModuleJob.run (node:internal/modules/esm/module_job:262:25) {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: './test/data/05-versions-space.pdf'
}

Node.js v22.2.0
file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:4
import { extractTextFromPDFBuffer } from "./pdfExtractor.js";
         ^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: The requested module './pdfExtractor.js' does not provide an export named 'extractTextFromPDFBuffer'
    at ModuleJob._instantiate (node:internal/modules/esm/module_job:171:21)
    at async ModuleJob.run (node:internal/modules/esm/module_job:254:5)
    at async ModuleLoader.import (node:internal/modules/esm/loader:475:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:109:5)

Node.js v22.2.0
üöÄ Worker started for doc cmhu2t1cx0001jistj8j7t79p
(node:227511) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
(Use `node --trace-warnings ...` to show where the warning was created)
‚ùå Worker failed: /home/johurul/my-text-digest-ws/my-text-digest-saas/src/lib/s3.js:1
import { S3Client } from "@aws-sdk/client-s3";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1350:18)
    at Module._compile (node:internal/modules/cjs/loader:1379:20)
    at Module._extensions..js (node:internal/modules/cjs/loader:1518:10)
    at Module.load (node:internal/modules/cjs/loader:1249:32)
    at Module._load (node:internal/modules/cjs/loader:1065:12)
    at cjsLoader (node:internal/modules/esm/translators:318:15)
    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:258:7)
    at ModuleJob.run (node:internal/modules/esm/module_job:262:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async ModuleLoader.import (node:internal/modules/esm/loader:475:24)
    at async processDocument (file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:27:35)
    at async process.<anonymous> (file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:112:3)
(node:227511) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.
üöÄ Worker started for doc cmhu7it2e0000ji6x1z1yexs5
‚ùå Worker failed: Error [ERR_MODULE_NOT_FOUND]: Cannot find module '/home/johurul/my-text-digest-ws/my-text-digest-saas/src/utils/backgroundTasks.mjs' imported from /home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs
    at finalizeResolution (node:internal/modules/esm/resolve:260:11)
    at moduleResolve (node:internal/modules/esm/resolve:920:10)
    at defaultResolve (node:internal/modules/esm/resolve:1119:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:542:12)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:511:25)
    at ModuleLoader.getModuleJob (node:internal/modules/esm/loader:241:38)
    at ModuleLoader.import (node:internal/modules/esm/loader:474:34)
    at defaultImportModuleDynamicallyForModule (node:internal/modules/esm/utils:214:31)
    at importModuleDynamicallyCallback (node:internal/modules/esm/utils:253:12)
    at processDocument (file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:32:9)
    at async process.<anonymous> (file:///home/johurul/my-text-digest-ws/my-text-digest-saas/scripts/runBackgroundTasks.mjs:112:3) {
  code: 'ERR_MODULE_NOT_FOUND',
  url: 'file:///home/johurul/my-text-digest-ws/my-text-digest-saas/src/utils/backgroundTasks.mjs'
}
